<%= form_with url: projects_path, method: :get, local: true, class: "bg-white shadow-md rounded-lg p-6 mb-6 space-y-4" do |f| %>
  <div class="grid grid-cols-1 md:grid-cols-6 gap-6 items-end">
    
    <div class="col-span-2">
      <%= f.label :search, "Search (Title, Description, Employee)", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :search, value: params[:search], class: "w-full px-4 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <div>
      <%= f.label :priority, "Priority", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :priority, Project.priority_levels.keys.map { |p| [p.titleize, p] },
        { include_blank: "All", selected: params[:priority] },
        class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <div>
      <%= f.label :user_id, "Assigned Employee", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :user_id, User.where(role: :employee), :id, :name,
        { include_blank: "All", selected: params[:user_id] },
        class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <div>
      <%= f.label :status, "Status", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :status, Project.statuses.keys.map { |s| [s.titleize, s] },
        { include_blank: "All", selected: params[:status] },
        class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <!-- Due Date -->
    <div>
      <%= f.label :due_date, "Due Before", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.date_field :due_date, value: params[:due_date], class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <div>
      <%= f.label :category, "Category", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :category, value: params[:category], class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <div>
      <%= f.label :created_from, "Created From", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.date_field :created_from, value: params[:created_from], class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>
    <div>
      <%= f.label :created_to, "Created To", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.date_field :created_to, value: params[:created_to], class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <div>
      <%= f.label :sort_by, "Sort By", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :sort_by,
        [["Due Date", "due_date"], ["Priority", "priority"], ["Creation Date", "created_at"], ["Alphabetical", "title"]],
        { include_blank: "Default", selected: params[:sort_by] },
        class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>
    <div>
      <%= f.label :direction, "Direction", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :direction,
        [["Ascending", "asc"], ["Descending", "desc"]],
        { include_blank: "Default", selected: params[:direction] },
        class: "w-full px-4 py-2 border rounded-lg shadow-sm" %>
    </div>

    <div class="col-span-6 flex justify-center space-x-2 mt-4">
      <%= f.submit "Apply", class: "px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition duration-200" %>
      <%= button_tag "Reset", type: :button,
        class: "px-6 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg shadow hover:bg-gray-300 transition duration-200",
        onclick: "this.form.reset(); this.form.submit();" %>
    </div>

  </div>
<% end %>
